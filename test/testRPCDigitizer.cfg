process RPCDIGIPROD = {
	source = PoolSource {
             untracked vstring fileNames = {
                   "rfio:/castor/cern.ch/user/t/trentad/Simulation/SingleMuon/eff100/root/evtgen_detsim_digi_L1_10.root"
             }
             untracked uint32 debugVebosity = 10
             untracked bool   debugFlag     = true


        }
        
        untracked PSet maxEvents = {untracked int32 input = 100}

	module mix = MixingModule {         
                secsource input = PoolRASource {
                    untracked vstring fileNames = {

                      "rfio:/castor/cern.ch/user/t/trentad/Simulation/SingleMuon/eff100/root/evtgen_detsim_digi_L1_10.root"

                    }

	        string type = "none"
        	double averageNumber = 0

		int32 seed = 1234567
               }

        	int32 bunchspace =25
<<<<<<< testRPCDigitizer.cfg
         	int32 minBunch =0
        	int32 maxBunch =10
=======
         	int32 minBunch =0
        	int32 maxBunch =0
>>>>>>> 1.19
                string Label = ""
        }

        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
        include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
        include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
        include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

	include "SimMuon/RPCDigitizer/data/muonRPCDigis.cfi"
        replace muonRPCDigis.digiModel = 'RPCSimAverageNoise'

        service = RandomNumberGeneratorService {
        untracked uint32 sourceSeed = 135799468  # single seed for all applications
        PSet moduleSeeds =
          {
            untracked uint32 muonRPCDigis = 563
            untracked uint32 mix = 9823
          }
        }

        service = Timing {}
#   	es_source = PoolDBESSource { 
#	   #string connect = "sqlite_file:pop_test.db"
#    	   string connect = "oracle://int2r/CMS_RPC_INTEGRATION"
#	   #
#	   string timetype = "runnumber" 
#	   PSet DBParameters = {
#	    #untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
#            untracked string authenticationPath="."
#	    untracked int32 messageLevel=2
#	   }
#
#           VPSet toGet = { { string record = "RPCStripNoisesRcd" string tag ="Example_tag2" } }
#        }
#
#        service = SimpleMemoryCheck {
#           untracked int32 ignoreTotal = 0 # default is one
#        }
#
#        include "PerfTools/Callgrind/data/callgrindSwitch.cfi"
#        untracked PSet options   = { untracked bool wantSummary = true }
#        module print = AsciiOutputModule {}

	module out = PoolOutputModule {
           untracked string fileName ="/tmp/trentad/prova_2_0_0_pre6.root"
	}


	 
	path p = {profilerStart,profilerStop,mix,muonRPCDigis}
	endpath this_is_the_end = {out,print}
}

