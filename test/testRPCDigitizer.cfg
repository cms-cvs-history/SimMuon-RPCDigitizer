process RPCDIGIPROD = {
	source = PoolSource {
     		 untracked vstring fileNames = {'file:///tmp/simevent.root'}
     		 untracked int32 maxEvents = -1
     		 untracked uint32 debugVebosity = 10
     		 untracked bool   debugFlag     = true
		}
 
	module mix = MixingModule {         
                secsource input = PoolRASource {
                    untracked vstring fileNames = {'file:///tmp/simevent.root'}
                    #vstring fileNames = {'SimGeneral/MixingModule/test/data/simevent.root'}
                    # bool random = true
                    # bool no_reuse = true
                
	        string type = "none"
        	double averageNumber = 0
         	int32 minBunch =xxx
        	int32 maxBunch =xxx
		int32 seed = 1234567
               }
        	int32 bunchspace =25
               }

        include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
        include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

#	include "SimMuon/RPCDigitizer/data/muonrpcdigi.cfi"

	module rpcdigitizer = RPCDigiProducer {
		string digiModel = 'RPCSimParam'
		PSet digiModelConfig = {
			double averageEfficiency = 0.95
			double averageClusterSize = 1.5
			double timeResolution = 2.5
			double timingRPCOffset = 50.0
			double deltatimeAdjacentStrip = 3.0
			double timeJitter = 1.0
			double signalPropagationSpeed = 0.66
			double linkGateWidth = 20.0
			bool printOutDigitizer = true
		}
        } 
  
	module out = PoolOutputModule {
           untracked string fileName ="/tmp/digi.root"
	}

	 
	path p = {mix,rpcdigitizer}
	endpath this_is_the_end = {out}
}

