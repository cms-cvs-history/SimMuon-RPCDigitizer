process RPCDIGIPROD = {
	source = PoolSource {
             untracked vstring fileNames = {
                  "rfio:/castor/cern.ch/user/t/trentad/Simulation/SingleMuon/eff100/root/evtgen_detsim_digi_L1_10.root"
                  # "file:/build/filippo/CMSSW_2_1_X_2008-05-14-0200/src/MU+_pt10_GEN_SIM.root"
             }
             untracked uint32 debugVebosity = 10
             untracked bool   debugFlag     = true


        }
        
        untracked PSet maxEvents = {untracked int32 input = 1000}

        include "Configuration/StandardSequences/data/MixingNoPileUp.cff"
        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
        include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
        include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
        include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

	include "SimMuon/RPCDigitizer/data/muonRPCDigis.cfi"
        replace simMuonRPCDigis.digiModel = 'RPCSimAverageNoiseEff'

        service = RandomNumberGeneratorService {
        untracked uint32 sourceSeed = 135799468  # single seed for all applications
        PSet moduleSeeds =
          {
            untracked uint32 simMuonRPCDigis = 563
            untracked uint32 mix = 9823
          }
        }

        service = Timing {}


################### FAKE SOURCE ################################
#       include "CalibMuon/RPCCalibration/data/RPCFakeESProducer.cfi"
################################################################

################### DATABASE READING ###########################
es_source = PoolDBESSource { 
#     #string connect = "sqlite_file:pop_test.db"
     string connect = "oracle://cms_orcoff_int2r/CMS_COND_RPC"
     string timetype = "runnumber" 
	
     PSet DBParameters = {
	 untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
#         untracked string authenticationPath="."
	 untracked int32 messageLevel=0
     }

     VPSet toGet = { { string record = "RPCStripNoisesRcd" string tag ="RPCStripNoises_mc" } }
}


	module out = PoolOutputModule {
           untracked string fileName ="/tmp/trentad/prova.root"
	}

	path p = {mix,simMuonRPCDigis} 
	endpath this_is_the_end = {out}
}

